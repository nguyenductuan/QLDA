<div class="main-center">
  <div class="top-bar-header">
    <div class="left-colum">
      <div class="breadcrumbs">
        <div class="breadcrumb-item cursor-default breadcrumb-route">
          Trang chủ
        </div>
        <div class="separator">
          <span class="separator-icon pi pi-chevron-right"></span>
        </div>
        <div class="breadcrumb-item cursor-default">
          Sản phẩm
        </div>
      </div>
      <div class="flex">
        <div class="page-title">
          Thêm mới sản phẩm
        </div>
      </div>
    </div>
    <div class="right-column">
      <div class="action-header">
        <button class="p-buttons button" (click)="createproduct()">Thêm mới</button>
      </div>
    </div>
  </div>
  <div class="main-content" style="display: flex;">
    <form [formGroup]="addProductForm">
      <div class="advanced-search-layout">
        <div class="grid ng-star-inserted">
          <div class="col-4">
            <label for="">Tên sản phẩm</label>
            <div class="">
              <div class="">
                <p class="">
                  <span class="">
                    <input pInputText formControlName="name" class="form-control">
                    <div *ngIf="submitted && addProductForm.controls['name'].errors" class="text-danger">
                      <span *ngIf="addProductForm.controls['name'].errors['required']">Tên sản phẩm là bắt buộc.</span>
                    </div>
                  </span>
                </p>
              </div>
            </div>
          </div>
          <div class="col-4">
            <label for="">Nhóm sản phẩm</label>
            <div class="">
              <div class="">
                <p class="">

                  
                  <span class="">
                    <p-dropdown [options]="categorylist" [(ngModel)]="selectedcategory"
                    formControlName="category" optionLabel="name" optionValue="categoryId"
                      placeholder="Chọn nhóm sp"
                      [style]="{'width':'100%','padding-top': '4px','padding-bottom': '10px'}" [showClear]="true">
                    </p-dropdown>
                    <div *ngIf="submitted && !selectedcategory" class="text-danger">
                      <span>Nhóm sản phẩm là bắt buộc.</span> 
                    </div> 
                  </span>
                </p>
              </div>
            </div>
          </div>
          <div class="col-4">
            <label for="">Giá</label>
            <div class="">
              <div class="">
                <p class="">
                  <span class="">
                    <input pInputText formControlName="price" class="form-control">
                    <div *ngIf="submitted && addproduct.controls['price'].errors" class="text-danger">
                      <span *ngIf="addproduct.controls['price'].errors['required']">Giá sản phẩm là bắt buộc.</span>
                      <span *ngIf="addproduct.controls['price'].errors['pattern']"> Giá sản phẩm sai định dạng.</span>
                    </div>
                  </span>
                </p>
              </div>
            </div>
          </div>
          <div class="col-4">
            <label for="">Số lượng</label>
            <div class="">
              <div class="">
                <p class="">
                  <span class="">

                    <input pInputText formControlName="quantity" class="form-control">
                    <div *ngIf="submitted && addproduct.controls['quantity'].errors" class="text-danger">
                      <span *ngIf="addproduct.controls['quantity'].errors['required']">Số lượng sản phẩm là bắt
                        buộc.</span>
                      <span *ngIf="addproduct.controls['quantity'].errors['pattern']"> Số lượng sản phẩm sai định
                        dạng.</span>
                    </div>
                  </span>
                </p>
              </div>
            </div>
          </div>
          <div class="col-4">
            <label for="">Ảnh sản phẩm</label>
            <div class="">
              <div class="">
                <p class="">
                  <span class="">
                    <input type="file" (change)="onFileSelected($event)" accept="image/*"  formControlName="image">
                    <img *ngIf="imageUrl" [src]="imageUrl" alt="Ảnh đã chọn" width="200" >
                    <p *ngIf="imageError" class="text-danger">{{ imageError }}</p>
                  </span>
                </p>
              </div>
            </div>
          </div>
          <div class="col-4">
            <label for="">Trạng thái</label>
            <div class="">
              <div class="">
                <p class="">
                  <span class="">
                    <p-dropdown [options]="statusOptions" [(ngModel)]="selectedStatus"
                    formControlName="status" optionLabel="label" optionValue="value"
                      placeholder="Chọn trạng thái"
                      [style]="{'width':'100%','padding-top': '4px','padding-bottom': '10px'}" [showClear]="true">
                    </p-dropdown>
                    <div *ngIf="submitted && !selectedStatus" class="text-danger">
                      <span>Trạng thái là bắt buộc.</span> 
                    </div> 
                  </span>
                </p>
              </div>
            </div>
          </div>
          <div class="d-flex justify-content-end">
          </div>
        </div>
      </div>
    </form>


  </div>